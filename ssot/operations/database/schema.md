# ğŸ—„ï¸ Database Schema - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

**MySQL 8.0+ ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„**

## ğŸ“Š í˜„ì¬ í…Œì´ë¸” ëª©ë¡

| í…Œì´ë¸”       | Entity            | ì£¼ìš” ê¸°ëŠ¥            | ê´€ê³„                                    |
| ------------ | ----------------- | -------------------- | --------------------------------------- |
| `tb_board`   | `TbBoardEntity`   | ê²Œì‹œê¸€ CRUD          | 1:N â†’ tb_comment                        |
| `tb_comment` | `TbCommentEntity` | ëŒ“ê¸€/ëŒ€ëŒ“ê¸€ (ê³„ì¸µí˜•) | N:1 â†’ tb_board, tb_user, Self-Reference |
| `tb_user`    | `TbUserEntity`    | ì‚¬ìš©ì ì •ë³´          | 1:N â†’ tb_comment                        |
| `tb_test1`   | `TbTest1Entity`   | í…ŒìŠ¤íŠ¸ìš© í…Œì´ë¸”      | ë…ë¦½ í…Œì´ë¸” (ê´€ê³„ ì—†ìŒ)                 |

## ğŸ”— í…Œì´ë¸” ê´€ê³„

### í•µì‹¬ ê´€ê³„

- **tb_board** (1) â†” (N) **tb_comment**: ê²Œì‹œê¸€ â†” ëŒ“ê¸€
- **tb_user** (1) â†” (N) **tb_comment**: ì‚¬ìš©ì â†” ëŒ“ê¸€
- **tb_comment** (1) â†” (N) **tb_comment**: ëŒ“ê¸€ â†” ëŒ€ëŒ“ê¸€ (ê³„ì¸µí˜•)

### ë…ë¦½ í…Œì´ë¸”

- **tb_test1**: ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ê´€ê³„ ì—†ìŒ (í…ŒìŠ¤íŠ¸ìš©)

## ğŸ“ ê´€ê³„ ìƒì„¸ ì„¤ëª…

### tb_board â†’ tb_comment (1:N)

- ê²Œì‹œê¸€ í•˜ë‚˜ì— ì—¬ëŸ¬ ëŒ“ê¸€ ì—°ê²°
- `tb_comment.board_id` â†’ `tb_board.board_id`
- CASCADE ì‚­ì œ: ê²Œì‹œê¸€ ì‚­ì œì‹œ ëŒ“ê¸€ ëª¨ë‘ ì‚­ì œ

### tb_user â†’ tb_comment (1:N)

- ì‚¬ìš©ì í•˜ë‚˜ê°€ ì—¬ëŸ¬ ëŒ“ê¸€ ì‘ì„± ê°€ëŠ¥
- `tb_comment.user_id` â†’ `tb_user.user_id`
- CASCADE ì‚­ì œ: ì‚¬ìš©ì ì‚­ì œì‹œ ëŒ“ê¸€ ëª¨ë‘ ì‚­ì œ

### tb_comment â†’ tb_comment (1:N, ê³„ì¸µí˜•)

- ëŒ“ê¸€ì— ëŒ€ëŒ“ê¸€ ì—°ê²° (ë¬´ì œí•œ depth)
- `tb_comment.parent_id` â†’ `tb_comment.comment_id`
- CASCADE ì‚­ì œ: ë¶€ëª¨ ëŒ“ê¸€ ì‚­ì œì‹œ ìì‹ ëŒ“ê¸€ ëª¨ë‘ ì‚­ì œ

### tb_test1 (ë…ë¦½)

- ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ê´€ê³„ ì—†ìŒ
- í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ì‚¬ìš©

---

> ğŸ“ **ì°¸ê³ **: ì‹¤ì œ Entity ì½”ë“œëŠ” `libs/database/src/entities/`ì—ì„œ í™•ì¸ ê°€ëŠ¥
